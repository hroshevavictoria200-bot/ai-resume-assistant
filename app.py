import streamlit as st
import google.generativeai as genai

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API-–∫–ª—é—á–∞ –∑ Streamlit secrets
try:
    genai.configure(api_key=st.secrets["GOOGLE_API_KEY"])
except KeyError:
    st.error("–í—ñ–¥—Å—É—Ç–Ω—ñ–π –∫–ª—é—á Google Gemini API. –ë—É–¥—å –ª–∞—Å–∫–∞, –¥–æ–¥–∞–π—Ç–µ –π–æ–≥–æ —É —Ñ–∞–π–ª secrets.toml.")
    st.stop()

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥–µ–ª—ñ
model = genai.GenerativeModel('gemini-pro')

st.set_page_config(page_title="AI –ê—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –í–∞–∫–∞–Ω—Å—ñ–π", layout="wide")

st.title("AI –ê—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –≤–∞–∫–∞–Ω—Å—ñ–π")
st.subheader("–ú–∏—Ç—Ç—î–≤–æ –æ–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ —Å–≤–æ—î —Ä–µ–∑—é–º–µ –ø—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –≤–∞–∫–∞–Ω—Å—ñ—é.")

# 1. –†–æ–∑–¥—ñ–ª—è—î–º–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –≤–∫–ª–∞–¥–∫–∏
tab_resume, tab_cover_letter, tab_interview, tab_skills = st.tabs([
    "üìù –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—é–º–µ", 
    "‚úâÔ∏è –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç", 
    "‚ùì –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏", 
    "üéØ –°–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏"
])

# 2. –õ–æ–≥—ñ–∫–∞ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ "–ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—é–º–µ"
with tab_resume:
    st.info("–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å—ñ—ó —Ç–∞ –≤–∞—à–µ —Ä–µ–∑—é–º–µ. AI –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î —ó—Ö —ñ –Ω–∞–¥–∞—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó.")
    job_posting = st.text_area("üìÑ **–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å—ñ—ó:**", height=250, help="–°–∫–æ–ø—ñ—é–π—Ç–µ –æ–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó –ø–æ–≤–Ω—ñ—Å—Ç—é.", key="job_resume")
    user_resume = st.text_area("üìù **–í—Å—Ç–∞–≤—Ç–µ –≤–∞—à–µ —Ä–µ–∑—é–º–µ:**", height=250, help="–°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞—à–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä–µ–∑—é–º–µ.", key="user_resume")

    analyze_button = st.button("üöÄ –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–∞ –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —Ä–µ–∑—é–º–µ")

    if analyze_button:
        if not job_posting or not user_resume:
            st.warning("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–∏–¥–≤–∞ –ø–æ–ª—è.")
        else:
            prompt = f"""
            –¢–∏ ‚Äî AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç, —â–æ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –Ω–∞ –∞–Ω–∞–ª—ñ–∑—ñ –≤–∞–∫–∞–Ω—Å—ñ–π —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤—Ü—ñ —Ä–µ–∑—é–º–µ.
            –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –Ω–∞–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π —Ç–∞ –∫–æ—Ä–∏—Å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑.

            **–ö—Ä–æ–∫ 1: –ê–Ω–∞–ª—ñ–∑ –í–∞–∫–∞–Ω—Å—ñ—ó**
            –í–∏–¥—ñ–ª–∏ –∫–ª—é—á–æ–≤—ñ –≤–∏–º–æ–≥–∏, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –Ω–∞–≤–∏—á–∫–∏, –¥–æ—Å–≤—ñ–¥ —Ç–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó, –ø–µ—Ä–µ–ª—ñ—á–µ–Ω—ñ —É –≤–∞–∫–∞–Ω—Å—ñ—ó.

            **–ö—Ä–æ–∫ 2: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –†–µ–∑—é–º–µ**
            –ü–æ—Ä—ñ–≤–Ω—è–π –Ω–∞–≤–∏—á–∫–∏ —Ç–∞ –¥–æ—Å–≤—ñ–¥, –∑–∞–∑–Ω–∞—á–µ–Ω—ñ —É –Ω–∞–¥–∞–Ω–æ–º—É —Ä–µ–∑—é–º–µ, –∑ –≤–∏–º–æ–≥–∞–º–∏ –≤–∞–∫–∞–Ω—Å—ñ—ó.

            **–ö—Ä–æ–∫ 3: –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π**
            –ù–∞ –æ—Å–Ω–æ–≤—ñ –∞–Ω–∞–ª—ñ–∑—É, —Å—Ç–≤–æ—Ä–∏ —Ç—Ä–∏ —Ä–æ–∑–¥—ñ–ª–∏:
            
            ### üü¢ –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –≤ —Ä–µ–∑—é–º–µ
            * –ü–µ—Ä–µ–ª—ñ—á–∏ –Ω–∞–≤–∏—á–∫–∏ —Ç–∞ –¥–æ—Å–≤—ñ–¥ —ñ–∑ —Ä–µ–∑—é–º–µ, —è–∫—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑–±—ñ–≥–∞—é—Ç—å—Å—è –∑ –≤–∏–º–æ–≥–∞–º–∏ –≤–∞–∫–∞–Ω—Å—ñ—ó. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Å–ø–∏—Å–∫–∏.

            ### üî¥ –ü—Ä–æ–≥–∞–ª–∏–Ω–∏ –≤ –Ω–∞–≤–∏—á–∫–∞—Ö
            * –ü–µ—Ä–µ–ª—ñ—á–∏ –Ω–∞–≤–∏—á–∫–∏, —è–∫—ñ –≤–∫–∞–∑–∞–Ω—ñ —É –≤–∞–∫–∞–Ω—Å—ñ—ó, –∞–ª–µ –≤—ñ–¥—Å—É—Ç–Ω—ñ –≤ —Ä–µ–∑—é–º–µ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Å–ø–∏—Å–∫–∏.

            ### üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ä–µ–∑—é–º–µ
            * –ó–∞–ø—Ä–æ–ø–æ–Ω—É–π, —è–∫ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ –∞–±–æ –¥–æ–ø–æ–≤–Ω–∏—Ç–∏ —Ä–µ–∑—é–º–µ, —â–æ–± –≤–æ–Ω–æ –∫—Ä–∞—â–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–æ –≤–∞–∫–∞–Ω—Å—ñ—ó.
            * –í–∫–∞–∂–∏, —è–∫—ñ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞ –∑ –≤–∞–∫–∞–Ω—Å—ñ—ó –≤–∞—Ä—Ç–æ –¥–æ–¥–∞—Ç–∏.
            * –ó–∞–ø—Ä–æ–ø–æ–Ω—É–π, —è–∫ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ –¥–æ—Å–≤—ñ–¥, —â–æ–± –≤—ñ–Ω –∑–≤—É—á–∞–≤ –±—ñ–ª—å—à —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ.

            ---

            **–í–ê–ö–ê–ù–°–Ü–Ø:**
            {job_posting}

            **–†–ï–ó–Æ–ú–ï:**
            {user_resume}
            """
            with st.spinner("üß† AI –∞–Ω–∞–ª—ñ–∑—É—î..."):
                try:
                    response = model.generate_content(prompt)
                    st.success("‚úÖ –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
                    st.markdown(response.text)
                except Exception as e:
                    st.error(f"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ AI: {e}")

# 3. –õ–æ–≥—ñ–∫–∞ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ "–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç"
with tab_cover_letter:
    st.info("–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å—ñ—ó, –≤–∞—à–µ —Ä–µ–∑—é–º–µ —Ç–∞ –Ω–∞–∑–≤—É –∫–æ–º–ø–∞–Ω—ñ—ó, —â–æ–± AI –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç.")
    
    company_name = st.text_input("üè¢ **–ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó:**")
    job_posting_cl = st.text_area("üìÑ **–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å—ñ—ó:**", height=200, key="job_cl")
    user_resume_cl = st.text_area("üìù **–í—Å—Ç–∞–≤—Ç–µ –≤–∞—à–µ —Ä–µ–∑—é–º–µ:**", height=200, key="user_resume_cl")

    generate_cl_button = st.button("‚úçÔ∏è –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç")

    if generate_cl_button:
        if not job_posting_cl or not user_resume_cl or not company_name:
            st.warning("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è.")
        else:
            cl_prompt = f"""
            –¢–∏ ‚Äî –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏—Ö –ª–∏—Å—Ç—ñ–≤.
            –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø–µ—Ä–µ–∫–æ–Ω–ª–∏–≤–∏–π —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ª–∏—Å—Ç, —è–∫–∏–π —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –≤–∞–∫–∞–Ω—Å—ñ—ó, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –Ω–∞–≤–∏—á–∫–∏ —Ç–∞ –¥–æ—Å–≤—ñ–¥ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞.

            **–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:**
            1.  –ó–≤–µ—Ä—Ç–∞–π—Å—è –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó –ø–æ —ñ–º–µ–Ω—ñ: {company_name}.
            2.  –í–∏–¥—ñ–ª–∏ 2-3 –∫–ª—é—á–æ–≤—ñ –Ω–∞–≤–∏—á–∫–∏ –∑ —Ä–µ–∑—é–º–µ, —è–∫—ñ –Ω–∞–π–∫—Ä–∞—â–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –≤–∏–º–æ–≥–∞–º –≤–∞–∫–∞–Ω—Å—ñ—ó.
            3.  –ü–æ—è—Å–Ω–∏, —è–∫ –¥–æ—Å–≤—ñ–¥ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ (–∑ —Ä–µ–∑—é–º–µ) –¥–æ–∑–≤–æ–ª—è—î –π–æ–º—É —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –æ–±–æ–≤'—è–∑–∫–∏, –∑–∞–∑–Ω–∞—á–µ–Ω—ñ —É –≤–∞–∫–∞–Ω—Å—ñ—ó.
            4.  –õ–∏—Å—Ç –º–∞—î –±—É—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–º, –ª–∞–∫–æ–Ω—ñ—á–Ω–∏–º —ñ –ø–µ—Ä–µ–∫–æ–Ω–ª–∏–≤–∏–º.

            ---

            **–í–ê–ö–ê–ù–°–Ü–Ø:**
            {job_posting_cl}

            **–†–ï–ó–Æ–ú–ï:**
            {user_resume_cl}
            """
            with st.spinner("üß† AI —Å—Ç–≤–æ—Ä—é—î –ª–∏—Å—Ç..."):
                try:
                    cl_response = model.generate_content(cl_prompt)
                    st.success("‚úÖ –õ–∏—Å—Ç –≥–æ—Ç–æ–≤–∏–π!")
                    st.markdown(cl_response.text)
                except Exception as e:
                    st.error(f"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ AI: {e}")

# ... –≤–∞—à –∫–æ–¥ –¥–æ –≤–∫–ª–∞–¥–∫–∏ 'tab_interview' ...

with tab_interview:
    st.markdown("### ‚ùì –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏")
    st.info("–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å—ñ—ó —Ç–∞ –≤–∞—à–µ —Ä–µ–∑—é–º–µ. AI –∑–≥–µ–Ω–µ—Ä—É—î —Å–ø–∏—Å–æ–∫ –ø–∏—Ç–∞–Ω—å, —è–∫—ñ –º–æ–∂—É—Ç—å –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –Ω–∞ —Å–ø—ñ–≤–±–µ—Å—ñ–¥—ñ.")
    
    job_posting_int = st.text_area("üìÑ **–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å—ñ—ó:**", height=200, key="job_interview")
    user_resume_int = st.text_area("üìù **–í—Å—Ç–∞–≤—Ç–µ –≤–∞—à–µ —Ä–µ–∑—é–º–µ:**", height=200, key="user_resume_interview")
    
    interview_button = st.button("‚ùì –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏")
    
    if interview_button:
        if not job_posting_int or not user_resume_int:
            st.warning("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–∏–¥–≤–∞ –ø–æ–ª—è.")
        else:
            interview_prompt = f"""
            –¢–∏ ‚Äî –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π HR-–º–µ–Ω–µ–¥–∂–µ—Ä. –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏, 
            –≤–∏—Ö–æ–¥—è—á–∏ –∑ –Ω–∞–¥–∞–Ω–æ—ó –≤–∞–∫–∞–Ω—Å—ñ—ó —Ç–∞ —Ä–µ–∑—é–º–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞.

            **–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:**
            1.  –°—Ñ–æ—Ä–º—É–ª—é–π –≤—ñ–¥ 5 –¥–æ 10 –ø–∏—Ç–∞–Ω—å.
            2.  –í–∫–ª—é—á–∏ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è, —â–æ —Å—Ç–æ—Å—É—é—Ç—å—Å—è –∫–ª—é—á–æ–≤–∏—Ö –Ω–∞–≤–∏—á–æ–∫ –∑ –≤–∞–∫–∞–Ω—Å—ñ—ó.
            3.  –î–æ–¥–∞–π –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–†–æ–∑–∫–∞–∂—ñ—Ç—å –ø—Ä–æ —Å–∏—Ç—É–∞—Ü—ñ—é, –∫–æ–ª–∏...").
            4.  –ó–∞–ø—Ä–æ–ø–æ–Ω—É–π –ø–∏—Ç–∞–Ω–Ω—è, —â–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –º–æ—Ç–∏–≤–∞—Ü—ñ—é –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Ç–∞ –π–æ–≥–æ –∑–∞—Ü—ñ–∫–∞–≤–ª–µ–Ω—ñ—Å—Ç—å —É –∫–æ–º–ø–∞–Ω—ñ—ó.
            5.  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Å–ø–∏—Å–∫–∏ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ —á–∏—Ç–∞–Ω–Ω—è.

            ---
            
            **–í–ê–ö–ê–ù–°–Ü–Ø:**
            {job_posting_int}

            **–†–ï–ó–Æ–ú–ï:**
            {user_resume_int}
            """
            with st.spinner("üß† AI –≥–æ—Ç—É—î –ø–∏—Ç–∞–Ω–Ω—è..."):
                try:
                    interview_response = model.generate_content(interview_prompt)
                    st.success("‚úÖ –ü–∏—Ç–∞–Ω–Ω—è –≥–æ—Ç–æ–≤—ñ!")
                    st.markdown(interview_response.text)
                except Exception as e:
                    st.error(f"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ AI: {e}")

# ... –≤–∞—à –∫–æ–¥ –¥–æ –≤–∫–ª–∞–¥–∫–∏ 'tab_skills' ...

with tab_skills:
    st.markdown("### üéØ –ê–Ω–∞–ª—ñ–∑ —Å–∏–ª—å–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω")
    st.info("–í—Å—Ç–∞–≤—Ç–µ –≤–∞—à–µ —Ä–µ–∑—é–º–µ, —ñ AI –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î –π–æ–≥–æ, —â–æ–± –≤–∏–¥—ñ–ª–∏—Ç–∏ –≤–∞—à—ñ –∫–ª—é—á–æ–≤—ñ —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏.")

    user_resume_skills = st.text_area("üìù **–í—Å—Ç–∞–≤—Ç–µ –≤–∞—à–µ —Ä–µ–∑—é–º–µ:**", height=250, key="user_resume_skills")
    
    skills_button = st.button("üîç –í–∏–∑–Ω–∞—á–∏—Ç–∏ —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏")
    
    if skills_button:
        if not user_resume_skills:
            st.warning("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤—Å—Ç–∞–≤—Ç–µ –≤–∞—à–µ —Ä–µ–∑—é–º–µ.")
        else:
            skills_prompt = f"""
            –¢–∏ ‚Äî –∫–∞—Ä'—î—Ä–Ω–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç. –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–∑—é–º–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —ñ –≤–∏–¥—ñ–ª–∏—Ç–∏ –π–æ–≥–æ –∫–ª—é—á–æ–≤—ñ —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏, 
            –≤–∏—Ö–æ–¥—è—á–∏ –∑ –¥–æ—Å–≤—ñ–¥—É —Ç–∞ –Ω–∞–≤–∏—á–æ–∫.

            **–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:**
            1.  –í–∏–¥—ñ–ª–∏ 3-5 –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö —Å–∏–ª—å–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω.
            2.  –î–ª—è –∫–æ–∂–Ω–æ—ó —Å–∏–ª—å–Ω–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ –Ω–∞–≤–µ–¥–∏ 1-2 –ø—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∑—é–º–µ, —è–∫—ñ —ó—ó –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—Ç—å.
            3.  –ü–æ—è—Å–Ω–∏, —á–æ–º—É —Ü—ñ —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏ —î —Ü—ñ–Ω–Ω–∏–º–∏ –¥–ª—è –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—è.
            4.  –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –º–∞—Ä–∫–æ–≤–∞–Ω—ñ —Å–ø–∏—Å–∫–∏.

            ---
            
            **–†–ï–ó–Æ–ú–ï:**
            {user_resume_skills}
            """
            with st.spinner("üß† AI –∞–Ω–∞–ª—ñ–∑—É—î..."):
                try:
                    skills_response = model.generate_content(skills_prompt)
                    st.success("‚úÖ –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
                    st.markdown(skills_response.text)
                except Exception as e:
                    st.error(f"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ AI: {e}")
    
    